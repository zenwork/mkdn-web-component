<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Web Component</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.0.2/webcomponents-bundle.js"></script>
    <script>
        customElements.define('wc-simple',
                              class extends HTMLElement {

                                  static get observedAttributes() { return ['label']; }

                                  connectedCallback() {
                                      console.log('connected');
                                  }

                                  attributeChangedCallback(name, oldValue, newValue) {
                                      if (oldValue !== newValue) {
                                          switch (name) {
                                              case 'label':
                                                  console.log('label changed');
                                                  this.label = newValue;
                                                  this.pElem.textContent = this.label;
                                                  break;
                                              default:

                                          }
                                      }
                                  }

                                  constructor() {
                                      super();

                                      this.pElem = document.createElement('p');
                                      this.pElem.textContent = this.label;

                                      const shadowRoot = this.attachShadow({mode:'open'});
                                      shadowRoot.appendChild(this.pElem);

                                  }
                              });
    </script>
</head>
<body>
    <h1>The simplest web component</h1>
    <wc-simple label="foo"></wc-simple>
</body>
</html>
